{"version":3,"file":"js/195.d786733e.js","mappings":"6QACOA,MAAM,a,GACJA,MAAM,iD,GACJA,MAAM,Y,UAKPC,EAAAA,EAAAA,GASM,OATDD,MAAM,8BAA4B,EACrCC,EAAAA,EAAAA,GAOQ,SAPDD,MAAM,6BAA2B,EACtCC,EAAAA,EAAAA,GAIC,SAHCD,MAAM,6BACNE,KAAK,OACLC,aAAa,sBAEfF,EAAAA,EAAAA,GAAiD,OAA5CD,MAAM,4BAA2B,aAP1C,K,GAiBSA,MAAM,6B,UAQXC,EAAAA,EAAAA,GAAiD,OAA5CD,MAAM,4BAA2B,SAAK,K,yDAhCvDI,EAAAA,EAAAA,IA0DM,MA1DN,EA0DM,EAzDJH,EAAAA,EAAAA,GAwDM,MAxDN,EAwDM,EAvDJA,EAAAA,EAAAA,GAsDM,MAtDN,EAsDM,EArDJA,EAAAA,EAAAA,GAoDO,QAnDLD,MAAM,oCACLK,SAAM,yBAAUC,EAAAA,cAAU,eAF7B,CAIEC,GAUAN,EAAAA,EAAAA,GA8BM,OA7BJD,OAAK,SAAC,2BAA0B,C,SACIQ,EAAAA,MAAMC,S,qBAA8CD,EAAAA,MAAMC,UAAYD,EAAAA,aAAeF,EAAAA,yBAF3H,EAOEL,EAAAA,EAAAA,GAsBQ,QAtBR,EAsBQ,WArBNA,EAAAA,EAAAA,GAMC,S,qCALUO,EAAAA,MAAMC,SAAQC,GACtBC,QAAK,eAAEL,EAAAA,eACRN,MAAM,6BACNE,KAAK,WACLC,aAAa,oBALf,iBACWK,EAAAA,MAAMC,YAMjBG,EAE4BJ,EAAAA,MAAMC,UAA8BD,EAAAA,aAAiCF,EAAAA,uBAAAA,EAAAA,EAAAA,OADjGF,EAAAA,EAAAA,IAYO,Q,MANLJ,OAAK,SAAC,oCAAmC,C,+BACmBM,EAAAA,yBAG7D,YAED,KAZA,kBAhBJ,IA+BAL,EAAAA,EAAAA,GAMS,UALPD,MAAM,0CACLa,UAAWL,EAAAA,MAAMC,SAClBP,KAAK,UACN,OAED,EAAAY,IAnDF,S,CA2DR,OACEC,OACE,MAAO,CACLC,MAAO,CACLP,SAAU,IAEZQ,aAAc,CAAC,EACfC,aAAa,EAEhB,EACDC,UACEC,KAAKC,kBAC8C,OAA/CD,KAAKE,QAAQC,aAAaC,MAAMC,KAAKC,OACvCC,SAASC,KAAKC,UAAUC,IAAI,cAE1BV,KAAKW,SAASC,IAAI,yCACpBZ,KAAKE,QAAQW,KAAK,CAChBC,KAAM,iBAGNd,KAAKW,SAASC,IAAI,2CACpBZ,KAAKE,QAAQW,KAAK,CAChBC,KAAM,cAGX,EACDC,QAAS,CACPd,kBACE,MAAMN,EAAO,8EACbK,KAAKgB,MAAMJ,IAAIjB,GAAMsB,MAAMC,IACzBA,EAASvB,KAAKwB,SAASC,IACrB,MAAMC,EAAS,CACbC,SAAUF,EAAQE,SAClBC,SAAUH,EAAQG,UAEpBvB,KAAKH,aAAauB,EAAQ/B,UAAYgC,CAAtC,GALF,GAQH,EACDG,aACE,GAAIxB,KAAKH,aAAaG,KAAKJ,OAAOP,UAAW,CAC3CW,KAAKyB,WAAazB,KAAKH,aAAaG,KAAKJ,MAAMP,UAAUiC,SACzD,MAAMI,EAAO,uBAAsB1B,KAAKyB,oBAClCrB,EAAQ,uDACRuB,EAAU,OAGhB3B,KAAKW,SAASiB,IAAIF,EAAKtB,EAAOuB,GAG9B3B,KAAKE,QAAQW,KAAK,CAChBC,KAAMd,KAAKH,aAAaG,KAAKJ,OAAOP,UAAUkC,UAElD,MACEvB,KAAKF,aAAc,CAEtB,EACD+B,uBACE,QAAI7B,KAAKH,aAAaG,KAAKJ,OAAOP,SAInC,EACDyC,cACE9B,KAAKF,aAAc,CACpB,I,UCxHL,MAAMiC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://banner-generator/./src/views/LoginView.vue","webpack://banner-generator/./src/views/LoginView.vue?5755"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row justify-content-center align-items-center\">\n      <div class=\"col-md-3\">\n        <form\n          class=\"form__group form__group--outlined\"\n          @submit.prevent=\"clickLogin()\"\n        >\n          <div class=\"form__group--defalt d-none\">\n            <label class=\"label form__group--defalt\">\n              <input\n                class=\"form__group__input d-block\"\n                type=\"text\"\n                autocomplete=\"current-username\"\n              >\n              <div class=\"form__group__placeholder\">請輸入帳號</div>\n            </label>\n          </div>\n          <div\n            class=\"form__group--defalt mb20\"\n            :class=\"{\n              'hasValue': login.password,\n              'form__group--error': login.password && submitState && checkPasswordCorrect\n            }\"\n          >\n            <label class=\"label form__group--defalt\">\n              <input\n                v-model=\"login.password\"\n                @input=\"checkTyping()\"\n                class=\"form__group__input d-block\"\n                type=\"password\"\n                autocomplete=\"current-password\"\n              >\n              <div class=\"form__group__placeholder\">請輸入密碼</div>\n              <span\n                v-if=\"(\n                  login.password\n                  && submitState\n                  && checkPasswordCorrect\n                )\"\n                class=\"form__group__help--strong d-block\"\n                :class=\"{\n                  'form__group__help--highlight': checkPasswordCorrect\n                }\"\n              >\n                請輸入正確密碼\n              </span>\n            </label>\n          </div>\n          <button\n            class=\"btn btn--contained mx-auto mt40 d-table\"\n            :disabled=\"!login.password\"\n            type=\"submit\"\n          >\n            登入\n          </button>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      login: {\n        password: '',\n      },\n      verification: {},\n      submitState: false,\n    };\n  },\n  created() {\n    this.getVerification();\n    if (this.$router.currentRoute.value.meta.title === '登入') {\n      document.body.classList.add('login-page');\n    }\n    if (this.$cookies.get('cw-banner-generator-editorial-logged')) {\n      this.$router.push({\n        path: 'editorial/cw',\n      });\n    }\n    if (this.$cookies.get('cw-banner-generator-advertising-logged')) {\n      this.$router.push({\n        path: 'ad/youtube',\n      });\n    }\n  },\n  methods: {\n    getVerification() {\n      const data = 'https://opensheet.elk.sh/1akcT3aiSAHRFsprHQpb0DjeTmb-ieYwFQjmGs7TwfB8/index';\n      this.$http.get(data).then((response) => {\n        response.data.forEach((element) => {\n          const object = {\n            platform: element.platform,\n            redirect: element.redirect,\n          };\n          this.verification[element.password] = object;\n        });\n      });\n    },\n    clickLogin() {\n      if (this.verification[this.login?.password]) {\n        this.cookieType = this.verification[this.login.password].platform;\n        const key = `cw-banner-generator-${this.cookieType}-logged`;\n        const value = 'tkyXWaXf=mM*r6PwxUd#k4=47cxW%kkMc!T..Bn9dnpgMyY6YBHT';\n        const expires = 60 * 60 * 24 * 30;\n\n        // 紀錄 Cookie: 存放 30 天\n        this.$cookies.set(key, value, expires);\n\n        // 轉址\n        this.$router.push({\n          path: this.verification[this.login?.password].redirect,\n        });\n      } else {\n        this.submitState = true;\n      }\n    },\n    checkPasswordCorrect() {\n      if (this.verification[this.login?.password]) {\n        return true;\n      }\n      return false;\n    },\n    checkTyping() {\n      this.submitState = false;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.form__group {\n  max-width: none;\n}\nlabel span.label__radio__txt {\n  white-space: nowrap;\n}\n</style>\n\n<style lang=\"scss\">\n.login-page main {\n  margin-bottom: 0;\n  height: calc(100vh - 65px);\n  min-height: calc(100vh - 65px);\n  > div {\n    height: 100%;\n    min-height: 100%;\n    > div {\n      height: 100%;\n      min-height: 100%;\n    }\n  }\n}\n</style>\n","import { render } from \"./LoginView.vue?vue&type=template&id=fe5c25ea&scoped=true\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=fe5c25ea&lang=scss&scoped=true\"\nimport \"./LoginView.vue?vue&type=style&index=1&id=fe5c25ea&lang=scss\"\n\nimport exportComponent from \"/Users/yutingh/Documents/GitHub/banner-generator/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-fe5c25ea\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","type","autocomplete","_createElementBlock","onSubmit","$options","_hoisted_4","$data","password","$event","onInput","_hoisted_6","disabled","_hoisted_7","data","login","verification","submitState","created","this","getVerification","$router","currentRoute","value","meta","title","document","body","classList","add","$cookies","get","push","path","methods","$http","then","response","forEach","element","object","platform","redirect","clickLogin","cookieType","key","expires","set","checkPasswordCorrect","checkTyping","__exports__","render"],"sourceRoot":""}